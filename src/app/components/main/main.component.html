@if(breakpoint() === 'xs' || breakpoint() === 'sm') {
<header class="mobile">
  <div class="mobile-wrapper">
    @if(isWorkspaceHidden()) {
    <div class="devspace">
      <button (click)="isWorkspaceHidden.set(false)">
        <img class="back" src="img/back.svg" alt="" />
      </button>
      <img class="devspace-logo" src="img/devspace.svg" alt="" />
    </div>
    } @else {
    <div class="logo-wrapper">
      <img src="img/dabubble-logo.svg" alt="" />
      <span>DABubble</span>
    </div>
    }
    <app-profile-menu class="mobile" />
  </div>
  <app-search-bar class="mobile" />
  <!-- <span
    >{{ isWorkspaceHidden() }} {{ isChatHidden() }} {{ isThreadHidden() }}</span
  > -->
</header>
} @else {
<header>
  <div class="logo-wrapper">
    <img src="img/dabubble-logo.svg" alt="" />
    <span>DABubble</span>
  </div>
  <app-search-bar />
  <app-profile-menu />
  <!-- <span
    >{{ isWorkspaceHidden() }} {{ isChatHidden() }} {{ isThreadHidden() }}</span
  > -->
</header>
}

<main>
  <!--FOR DESKTOP-->

  @if(breakpoint() !== 'xs' && breakpoint() !== 'sm') {
  @if(!isWorkspaceHidden()) {
  <app-workspace
    [ngClass]="{ 'workspace-hidden': isWorkspaceHidden() }"
    (openAddChannelDialog)="handleOpenAddChannel()"
    @slideWorkspace
  />
  }

  <section>
    <router-outlet (activate)="onActivate($event)" />
  </section>

  @if(!isThreadHidden()) {
  <app-thread
    (closeThread)="isThreadHidden.set(true)"
    [ngClass]="{ 'thread-hidden': isThreadHidden() }"
    @slideThread
  />
  } }

  <!--FOR MOBILE-->

  @if(breakpoint() === 'xs' || breakpoint() === 'sm' ) {
  @if(!isWorkspaceHidden() && isChatHidden() && isThreadHidden()) {
  <app-workspace
    class="mobile"
    (closeWorkspace)="isWorkspaceHidden.set(true); isChatHidden.set(false)"
    (openAddChannelDialog)="handleOpenAddChannel()"
  />
  } @if(isWorkspaceHidden() && !isChatHidden() && isThreadHidden()) {
  <section>
    <router-outlet (activate)="onActivate($event)" />
  </section>
  } @if(isWorkspaceHidden() && isChatHidden() && !isThreadHidden()) {
  <app-thread (closeThread)="isThreadHidden.set(true)" />
  }@if(!isWorkspaceHidden() && !isChatHidden() && !isThreadHidden()) {
  <app-workspace
    class="mobile"
    (closeWorkspace)="isWorkspaceHidden.set(true)"
    (closeWorkspace)="isChatHidden.set(false)"
    (openAddChannelDialog)="handleOpenAddChannel()"
  />
  }@if(!isWorkspaceHidden() && !isChatHidden() && isThreadHidden()) {
  <app-workspace
    class="mobile"
    (closeWorkspace)="isWorkspaceHidden.set(true)"
    (closeWorkspace)="isChatHidden.set(false)"
    (openAddChannelDialog)="handleOpenAddChannel()"
  />
  } @if(isWorkspaceHidden() && !isChatHidden() && !isThreadHidden()) {
  <app-thread (closeThread)="isThreadHidden.set(true)" />
  }}

  <!--FOR TABLETS AND NOTEBOOKS-->
</main>

<!--WORKSPACE-BUTTON-->

@if(breakpoint() !== 'xs' && breakpoint() !== 'sm') {
<button
  class="workspace-button"
  (click)="toggleWorkspaceVisibility()"
  (click)="isChatHidden.set(false)"
  (mouseenter)="isWorkspaceBtnHovered.set(true)"
  (mouseleave)="isWorkspaceBtnHovered.set(false)"
>
  <div>
    Workspace-Menü
    {{ isWorkspaceHidden() ? "öffnen" : "schließen" }}
  </div>
  @if(!isWorkspaceHidden()) {
  <img
    [class.rotated]="!isWorkspaceHidden()"
    [src]="
      isWorkspaceBtnHovered()
        ? '/img/workspace-hide-hover.svg'
        : '/img/workspace-hide.svg'
    "
    alt="Workspace Icon"
  />} @else {
  <img
    [class.rotated]="isWorkspaceHidden()"
    [src]="
      isWorkspaceBtnHovered()
        ? '/img/workspace-show-hover.svg'
        : '/img/workspace-show.svg'
    "
    alt="Workspace Icon"
  />
  }
</button>
} @if(isAddChannelDialogOpen()) {
<app-add-channel (closeDialog)="handleCloseAddChannel()" />
}
